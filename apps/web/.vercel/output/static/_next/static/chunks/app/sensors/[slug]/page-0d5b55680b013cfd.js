(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[923],{4544:(e,r,s)=>{Promise.resolve().then(s.bind(s,4455))},4455:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c,runtime:()=>d});var t=s(7437),n=s(2265),i=s(7138),a=s(3498),o=s(357);let d="edge",l=o.env.NEXT_PUBLIC_API_URL||"/api/v1";function c(e){let{params:r}=e,{slug:s}=n.use(r),[o,d]=(0,n.useState)(null),[c,p]=(0,n.useState)(!0),[x,g]=(0,n.useState)(null),[h,m]=(0,n.useState)("");if((0,n.useEffect)(()=>{(async function(){if(s){p(!0),g(null);try{let e=await fetch("".concat(l,"/sensors/").concat(s));if(!e.ok){if(404===e.status)throw Error("Sensor not found");throw Error("API error: ".concat(e.status))}let r=await e.json();d(r),r.versions.length>0&&m(r.versions[0].version_str)}catch(e){console.error("Failed to fetch sensor:",e),g(e instanceof Error?e.message:"Failed to load sensor")}finally{p(!1)}}})()},[s]),c)return(0,t.jsx)("div",{className:"container",style:{padding:"80px 24px"},children:(0,t.jsx)("div",{className:"loading",children:(0,t.jsx)("div",{className:"spinner"})})});if(x||!o)return(0,t.jsxs)("div",{className:"container",style:{padding:"80px 24px",textAlign:"center"},children:[(0,t.jsx)("h1",{style:{marginBottom:"16px"},children:"Sensor not found"===x?"Sensor Not Found":"Error Loading Sensor"}),(0,t.jsx)("p",{style:{color:"var(--text-muted)",marginBottom:"24px"},children:x}),(0,t.jsx)(i.default,{href:"/",className:"btn btn-primary",style:{display:"inline-flex"},children:"← Back to Hub"})]});let u=o.versions.find(e=>e.version_str===h)||o.versions[0];return(0,t.jsxs)("div",{className:"container",style:{padding:"40px 24px"},children:[(0,t.jsxs)("nav",{style:{marginBottom:"24px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[(0,t.jsx)(i.default,{href:"/",children:"Home"})," / ",(0,t.jsx)(i.default,{href:"/?category=".concat(o.category),children:o.category})," / ",o.display_name]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"40px",alignItems:"start",marginBottom:"40px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"12px",flexWrap:"wrap"},children:[(0,t.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"700"},children:o.display_name}),(0,t.jsx)("span",{className:"sensor-category",children:o.category}),o.is_certified&&(0,t.jsxs)("span",{className:"badge badge-certified",style:{padding:"4px 12px",fontSize:"0.9rem"},children:[(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:"4px"},children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})}),"Certified"]}),"pending"===o.status&&(0,t.jsx)("span",{className:"badge badge-pending",style:{padding:"4px 12px",fontSize:"0.9rem"},children:"Pending Review"}),(null==u?void 0:u.verified)&&(0,t.jsx)("span",{style:{background:"var(--success)",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"500"},children:"✓ Verified"})]}),(0,t.jsxs)("div",{style:{color:"var(--text-secondary)",marginBottom:"16px"},children:[(0,t.jsxs)("span",{style:{marginRight:"20px"},children:["⬇️ ",o.total_downloads.toLocaleString()," downloads"]}),(0,t.jsxs)("span",{style:{marginRight:"20px",color:"var(--warning)"},children:["⭐ ",o.avg_rating.toFixed(1)]}),(0,t.jsxs)("span",{children:["Updated ",new Date(o.updated_at).toLocaleDateString()]})]}),(0,t.jsx)("div",{className:"sensor-tags",children:o.tags.map(e=>(0,t.jsx)("span",{className:"tag",children:e},e))})]}),(0,t.jsxs)("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",padding:"24px",minWidth:"280px"},children:[o.versions.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Version"}),(0,t.jsx)("select",{value:h,onChange:e=>m(e.target.value),style:{width:"100%",padding:"10px 12px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius-sm)",color:"var(--text-primary)",fontSize:"1rem"},children:o.versions.map(e=>(0,t.jsxs)("option",{value:e.version_str,children:[e.version_str," ",e.verified?"✓":""]},e.id))})]}),(0,t.jsxs)("div",{style:{marginBottom:"16px",fontSize:"0.85rem",color:"var(--text-muted)"},children:[(0,t.jsxs)("div",{children:["Min PRTG: ",null==u?void 0:u.min_prtg_version]}),(null==u?void 0:u.security_check_passed)&&(0,t.jsx)("div",{style:{color:"var(--success)",marginTop:"4px"},children:"✓ Security check passed"})]}),(0,t.jsx)("button",{onClick:()=>{"pending"!==o.status&&(window.location.href="".concat(l,"/sensors/").concat(o.slug,"/download?version=").concat(h))},disabled:"pending"===o.status,className:"btn btn-primary ".concat("pending"===o.status?"btn-disabled":""),style:{width:"100%",marginBottom:"12px",opacity:"pending"===o.status?.5:1,cursor:"pending"===o.status?"not-allowed":"pointer"},children:"pending"===o.status?"\uD83D\uDD12 Review Pending":"⬇️ Download"}),"pending"===o.status&&(0,t.jsx)("p",{style:{fontSize:"0.75rem",color:"var(--warning)",textAlign:"center",marginBottom:"12px"},children:"Downloads will be enabled after review."})]}):(0,t.jsx)("p",{style:{color:"var(--text-muted)"},children:"No versions available"}),o.repository_url&&(0,t.jsx)("a",{href:o.repository_url,target:"_blank",className:"btn btn-outline",style:{width:"100%"},children:"View on GitHub"})]})]}),(0,t.jsxs)("section",{style:{marginBottom:"40px"},children:[(0,t.jsx)("h2",{style:{fontSize:"1.5rem",marginBottom:"16px"},children:"About"}),(0,t.jsx)("div",{style:{background:"var(--bg-card)",padding:"24px",borderRadius:"var(--border-radius)",whiteSpace:"pre-wrap",lineHeight:"1.7",color:"var(--text-secondary)"},children:(0,a.o)(o.description)||"No description available."})]}),o.versions.length>0&&(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{style:{fontSize:"1.5rem",marginBottom:"16px"},children:"Version History"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:o.versions.map(e=>(0,t.jsxs)("div",{style:{background:"var(--bg-card)",border:e.version_str===h?"1px solid var(--accent-primary)":"1px solid var(--border-color)",borderRadius:"var(--border-radius)",padding:"20px"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsxs)("span",{style:{fontWeight:"600",fontSize:"1.1rem"},children:["v",e.version_str]}),e.verified&&(0,t.jsx)("span",{style:{background:"var(--success)",color:"white",padding:"2px 8px",borderRadius:"8px",fontSize:"0.75rem"},children:"Verified"})]}),(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:new Date(e.created_at).toLocaleDateString()})]}),e.changelog&&(0,t.jsx)("pre",{style:{color:"var(--text-secondary)",fontSize:"0.9rem",whiteSpace:"pre-wrap",fontFamily:"inherit"},children:e.changelog})]},e.id))})]})]})}},3498:(e,r,s)=>{"use strict";s.d(r,{o:()=>n});var t=s(7437);function n(e){if(!e)return"";let r=e.split(/(\*\*.*?\*\*)/g);return(0,t.jsx)(t.Fragment,{children:r.map((e,r)=>e.startsWith("**")&&e.endsWith("**")&&e.length>=4?(0,t.jsx)("strong",{children:e.slice(2,-2)},r):e)})}s(2265)}},e=>{var r=r=>e(e.s=r);e.O(0,[138,130,215,744],()=>r(4544)),_N_E=e.O()}]);