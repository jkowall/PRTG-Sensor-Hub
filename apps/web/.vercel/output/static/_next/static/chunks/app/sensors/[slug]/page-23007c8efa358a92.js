(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[518],{346:(e,r,s)=>{"use strict";s.d(r,{G:()=>n});var t=s(5155);function n(e){if(!e)return"";let r=e.split(/(\*\*.*?\*\*)/g);return(0,t.jsx)(t.Fragment,{children:r.map((e,r)=>e.startsWith("**")&&e.endsWith("**")&&e.length>=4?(0,t.jsx)("strong",{children:e.slice(2,-2)},r):e)})}s(2115)},4008:(e,r,s)=>{Promise.resolve().then(s.bind(s,9378))},9378:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>p,runtime:()=>l});var t=s(5155),n=s(2115),i=s(2619),a=s.n(i),o=s(346),d=s(5704);let l="edge",c=d.env.NEXT_PUBLIC_API_URL||"/api/v1";function p(e){let{params:r}=e,{slug:s}=n.use(r),[i,d]=(0,n.useState)(null),[l,p]=(0,n.useState)(!0),[x,g]=(0,n.useState)(null),[h,m]=(0,n.useState)("");if((0,n.useEffect)(()=>{!async function(){if(s){p(!0),g(null);try{let e=await fetch("".concat(c,"/sensors/").concat(s));if(!e.ok){if(404===e.status)throw Error("Sensor not found");throw Error("API error: ".concat(e.status))}let r=await e.json();d(r),r.versions.length>0&&m(r.versions[0].version_str)}catch(e){console.error("Failed to fetch sensor:",e),g(e instanceof Error?e.message:"Failed to load sensor")}finally{p(!1)}}}()},[s]),l)return(0,t.jsx)("div",{className:"container",style:{padding:"80px 24px"},children:(0,t.jsx)("div",{className:"loading",children:(0,t.jsx)("div",{className:"spinner"})})});if(x||!i)return(0,t.jsxs)("div",{className:"container",style:{padding:"80px 24px",textAlign:"center"},children:[(0,t.jsx)("h1",{style:{marginBottom:"16px"},children:"Sensor not found"===x?"Sensor Not Found":"Error Loading Sensor"}),(0,t.jsx)("p",{style:{color:"var(--text-muted)",marginBottom:"24px"},children:x}),(0,t.jsx)(a(),{href:"/",className:"btn btn-primary",style:{display:"inline-flex"},children:"← Back to Hub"})]});let v=i.versions.find(e=>e.version_str===h)||i.versions[0];return(0,t.jsxs)("div",{className:"container",style:{padding:"40px 24px"},children:[(0,t.jsxs)("nav",{style:{marginBottom:"24px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[(0,t.jsx)(a(),{href:"/",children:"Home"})," / ",(0,t.jsx)(a(),{href:"/?category=".concat(i.category),children:i.category})," / ",i.display_name]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"40px",alignItems:"start",marginBottom:"40px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"12px",flexWrap:"wrap"},children:[(0,t.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"700"},children:i.display_name}),(0,t.jsx)("span",{className:"sensor-category",children:i.category}),i.is_certified&&(0,t.jsxs)("span",{className:"badge badge-certified",style:{padding:"4px 12px",fontSize:"0.9rem"},children:[(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:"4px"},children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})}),"Certified"]}),"pending"===i.status&&(0,t.jsx)("span",{className:"badge badge-pending",style:{padding:"4px 12px",fontSize:"0.9rem"},children:"Pending Review"}),"approved"===i.status&&(0,t.jsx)("span",{className:"badge badge-approved",style:{padding:"4px 12px",fontSize:"0.9rem"},children:"Approved"}),(null==v?void 0:v.verified)&&(0,t.jsx)("span",{style:{background:"var(--success)",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"500"},children:"✓ Verified"})]}),(0,t.jsxs)("div",{style:{color:"var(--text-secondary)",marginBottom:"16px"},children:[(0,t.jsxs)("span",{style:{marginRight:"20px"},children:["⬇️ ",i.total_downloads.toLocaleString()," downloads"]}),(0,t.jsxs)("span",{style:{marginRight:"20px",color:"var(--warning)"},children:["⭐ ",i.avg_rating.toFixed(1)]}),(0,t.jsxs)("span",{children:["Updated ",new Date(i.updated_at).toLocaleDateString()]})]}),(0,t.jsx)("div",{className:"sensor-tags",children:i.tags.map(e=>(0,t.jsx)("span",{className:"tag",children:e},e))})]}),(0,t.jsxs)("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius)",padding:"24px",minWidth:"280px"},children:[i.versions.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Version"}),(0,t.jsx)("select",{value:h,onChange:e=>m(e.target.value),style:{width:"100%",padding:"10px 12px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"var(--border-radius-sm)",color:"var(--text-primary)",fontSize:"1rem"},children:i.versions.map(e=>(0,t.jsxs)("option",{value:e.version_str,children:[e.version_str," ",e.verified?"✓":""]},e.id))})]}),(0,t.jsxs)("div",{style:{marginBottom:"16px",fontSize:"0.85rem",color:"var(--text-muted)"},children:[(0,t.jsxs)("div",{children:["Min PRTG: ",null==v?void 0:v.min_prtg_version]}),(null==v?void 0:v.security_check_passed)&&(0,t.jsx)("div",{style:{color:"var(--success)",marginTop:"4px"},children:"✓ Security check passed"})]}),(0,t.jsx)("button",{onClick:()=>{"pending"!==i.status&&(window.location.href="".concat(c,"/sensors/").concat(i.slug,"/download?version=").concat(h))},disabled:"pending"===i.status,className:"btn btn-primary ".concat("pending"===i.status?"btn-disabled":""),style:{width:"100%",marginBottom:"12px",opacity:"pending"===i.status?.5:1,cursor:"pending"===i.status?"not-allowed":"pointer"},children:"pending"===i.status?"\uD83D\uDD12 Review Pending":"⬇️ Download"}),"pending"===i.status&&(0,t.jsx)("p",{style:{fontSize:"0.75rem",color:"var(--warning)",textAlign:"center",marginBottom:"12px"},children:"Downloads will be enabled after review."})]}):(0,t.jsx)("p",{style:{color:"var(--text-muted)"},children:"No versions available"}),i.repository_url&&(0,t.jsx)("a",{href:i.repository_url,target:"_blank",className:"btn btn-outline",style:{width:"100%"},children:"View on GitHub"})]})]}),(0,t.jsxs)("section",{style:{marginBottom:"40px"},children:[(0,t.jsx)("h2",{style:{fontSize:"1.5rem",marginBottom:"16px"},children:"About"}),(0,t.jsx)("div",{style:{background:"var(--bg-card)",padding:"24px",borderRadius:"var(--border-radius)",whiteSpace:"pre-wrap",lineHeight:"1.7",color:"var(--text-secondary)"},children:(0,o.G)(i.description)||"No description available."})]}),i.versions.length>0&&(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{style:{fontSize:"1.5rem",marginBottom:"16px"},children:"Version History"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:i.versions.map(e=>(0,t.jsxs)("div",{style:{background:"var(--bg-card)",border:e.version_str===h?"1px solid var(--accent-primary)":"1px solid var(--border-color)",borderRadius:"var(--border-radius)",padding:"20px"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsxs)("span",{style:{fontWeight:"600",fontSize:"1.1rem"},children:["v",e.version_str]}),e.verified&&(0,t.jsx)("span",{style:{background:"var(--success)",color:"white",padding:"2px 8px",borderRadius:"8px",fontSize:"0.75rem"},children:"Verified"})]}),(0,t.jsx)("span",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:new Date(e.created_at).toLocaleDateString()})]}),e.changelog&&(0,t.jsx)("pre",{style:{color:"var(--text-secondary)",fontSize:"0.9rem",whiteSpace:"pre-wrap",fontFamily:"inherit"},children:e.changelog})]},e.id))})]})]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=4008)),_N_E=e.O()}]);